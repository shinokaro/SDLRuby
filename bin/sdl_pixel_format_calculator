#!/usr/bin/env ruby
# frozen_string_literal: true
# encoding: us-ascii

require "bundler/setup"

module PixelFormatCalculator
  # SDL_PixelType
  #
  SDL_PIXELTYPE_UNKNOWN  = 0
  SDL_PIXELTYPE_INDEX1   = 1
  SDL_PIXELTYPE_INDEX4   = 2
  SDL_PIXELTYPE_INDEX8   = 3
  SDL_PIXELTYPE_PACKED8  = 4
  SDL_PIXELTYPE_PACKED16 = 5
  SDL_PIXELTYPE_PACKED32 = 6
  SDL_PIXELTYPE_ARRAYU8  = 7
  SDL_PIXELTYPE_ARRAYU16 = 8
  SDL_PIXELTYPE_ARRAYU32 = 9
  SDL_PIXELTYPE_ARRAYF16 = 10
  SDL_PIXELTYPE_ARRAYF32 = 11

  # SDL_BitmapOrder
  #
  SDL_BITMAPORDER_NONE = 0
  SDL_BITMAPORDER_4321 = 1
  SDL_BITMAPORDER_1234 = 2

  # SDL_PackedOrder
  #
  SDL_PACKEDORDER_NONE = 0
  SDL_PACKEDORDER_XRGB = 1
  SDL_PACKEDORDER_RGBX = 2
  SDL_PACKEDORDER_ARGB = 3
  SDL_PACKEDORDER_RGBA = 4
  SDL_PACKEDORDER_XBGR = 5
  SDL_PACKEDORDER_BGRX = 6
  SDL_PACKEDORDER_ABGR = 7
  SDL_PACKEDORDER_BGRA = 8

  # SDL_ArrayOrder
  #
  SDL_ARRAYORDER_NONE = 0
  SDL_ARRAYORDER_RGB  = 1
  SDL_ARRAYORDER_RGBA = 2
  SDL_ARRAYORDER_ARGB = 3
  SDL_ARRAYORDER_BGR  = 4
  SDL_ARRAYORDER_BGRA = 5
  SDL_ARRAYORDER_ABGR = 6

  # SDL_PackedLayout
  #
  SDL_PACKEDLAYOUT_NONE    = 0
  SDL_PACKEDLAYOUT_332     = 1
  SDL_PACKEDLAYOUT_4444    = 2
  SDL_PACKEDLAYOUT_1555    = 3
  SDL_PACKEDLAYOUT_5551    = 4
  SDL_PACKEDLAYOUT_565     = 5
  SDL_PACKEDLAYOUT_8888    = 6
  SDL_PACKEDLAYOUT_2101010 = 7
  SDL_PACKEDLAYOUT_1010102 = 8

  def self.SDL_DEFINE_PIXELFOURCC(a, b, c, d)
    (a + b + c + d).unpack1("L<")
  end

  def self.SDL_DEFINE_PIXELFORMAT(type, order, layout, bits, bytes)
    ((1 << 28) | ((type) << 24) | ((order) << 20) | ((layout) << 16) |
      ((bits) << 8) | ((bytes) << 0))
  end


  # SDL_PixelFormatEnum
  #
  SDL_PIXELFORMAT_UNKNOWN = 0
  SDL_PIXELFORMAT_INDEX1LSB =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_INDEX1, SDL_BITMAPORDER_4321, 0,
                           1, 0)
  SDL_PIXELFORMAT_INDEX1MSB =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_INDEX1, SDL_BITMAPORDER_1234, 0,
                           1, 0)
  SDL_PIXELFORMAT_INDEX4LSB =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_INDEX4, SDL_BITMAPORDER_4321, 0,
                           4, 0)
  SDL_PIXELFORMAT_INDEX4MSB =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_INDEX4, SDL_BITMAPORDER_1234, 0,
                           4, 0)
  SDL_PIXELFORMAT_INDEX8 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_INDEX8, 0, 0, 8, 1)
  SDL_PIXELFORMAT_RGB332 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED8, SDL_PACKEDORDER_XRGB,
                           SDL_PACKEDLAYOUT_332, 8, 1)
  SDL_PIXELFORMAT_XRGB4444 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED16, SDL_PACKEDORDER_XRGB,
                           SDL_PACKEDLAYOUT_4444, 12, 2)
  SDL_PIXELFORMAT_RGB444 = SDL_PIXELFORMAT_XRGB4444
  SDL_PIXELFORMAT_XBGR4444 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED16, SDL_PACKEDORDER_XBGR,
                           SDL_PACKEDLAYOUT_4444, 12, 2)
  SDL_PIXELFORMAT_BGR444 = SDL_PIXELFORMAT_XBGR4444
  SDL_PIXELFORMAT_XRGB1555 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED16, SDL_PACKEDORDER_XRGB,
                           SDL_PACKEDLAYOUT_1555, 15, 2)
  SDL_PIXELFORMAT_RGB555 = SDL_PIXELFORMAT_XRGB1555
  SDL_PIXELFORMAT_XBGR1555 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED16, SDL_PACKEDORDER_XBGR,
                           SDL_PACKEDLAYOUT_1555, 15, 2)
  SDL_PIXELFORMAT_BGR555 = SDL_PIXELFORMAT_XBGR1555
  SDL_PIXELFORMAT_ARGB4444 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED16, SDL_PACKEDORDER_ARGB,
                           SDL_PACKEDLAYOUT_4444, 16, 2)
  SDL_PIXELFORMAT_RGBA4444 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED16, SDL_PACKEDORDER_RGBA,
                           SDL_PACKEDLAYOUT_4444, 16, 2)
  SDL_PIXELFORMAT_ABGR4444 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED16, SDL_PACKEDORDER_ABGR,
                           SDL_PACKEDLAYOUT_4444, 16, 2)
  SDL_PIXELFORMAT_BGRA4444 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED16, SDL_PACKEDORDER_BGRA,
                           SDL_PACKEDLAYOUT_4444, 16, 2)
  SDL_PIXELFORMAT_ARGB1555 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED16, SDL_PACKEDORDER_ARGB,
                           SDL_PACKEDLAYOUT_1555, 16, 2)
  SDL_PIXELFORMAT_RGBA5551 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED16, SDL_PACKEDORDER_RGBA,
                           SDL_PACKEDLAYOUT_5551, 16, 2)
  SDL_PIXELFORMAT_ABGR1555 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED16, SDL_PACKEDORDER_ABGR,
                           SDL_PACKEDLAYOUT_1555, 16, 2)
  SDL_PIXELFORMAT_BGRA5551 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED16, SDL_PACKEDORDER_BGRA,
                           SDL_PACKEDLAYOUT_5551, 16, 2)
  SDL_PIXELFORMAT_RGB565 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED16, SDL_PACKEDORDER_XRGB,
                           SDL_PACKEDLAYOUT_565, 16, 2)
  SDL_PIXELFORMAT_BGR565 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED16, SDL_PACKEDORDER_XBGR,
                           SDL_PACKEDLAYOUT_565, 16, 2)
  SDL_PIXELFORMAT_RGB24 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_ARRAYU8, SDL_ARRAYORDER_RGB, 0,
                           24, 3)
  SDL_PIXELFORMAT_BGR24 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_ARRAYU8, SDL_ARRAYORDER_BGR, 0,
                           24, 3)
  SDL_PIXELFORMAT_XRGB8888 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED32, SDL_PACKEDORDER_XRGB,
                           SDL_PACKEDLAYOUT_8888, 24, 4)
  SDL_PIXELFORMAT_RGB888 = SDL_PIXELFORMAT_XRGB8888
  SDL_PIXELFORMAT_RGBX8888 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED32, SDL_PACKEDORDER_RGBX,
                           SDL_PACKEDLAYOUT_8888, 24, 4)
  SDL_PIXELFORMAT_XBGR8888 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED32, SDL_PACKEDORDER_XBGR,
                           SDL_PACKEDLAYOUT_8888, 24, 4)
  SDL_PIXELFORMAT_BGR888 = SDL_PIXELFORMAT_XBGR8888
  SDL_PIXELFORMAT_BGRX8888 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED32, SDL_PACKEDORDER_BGRX,
                           SDL_PACKEDLAYOUT_8888, 24, 4)
  SDL_PIXELFORMAT_ARGB8888 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED32, SDL_PACKEDORDER_ARGB,
                           SDL_PACKEDLAYOUT_8888, 32, 4)
  SDL_PIXELFORMAT_RGBA8888 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED32, SDL_PACKEDORDER_RGBA,
                           SDL_PACKEDLAYOUT_8888, 32, 4)
  SDL_PIXELFORMAT_ABGR8888 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED32, SDL_PACKEDORDER_ABGR,
                           SDL_PACKEDLAYOUT_8888, 32, 4)
  SDL_PIXELFORMAT_BGRA8888 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED32, SDL_PACKEDORDER_BGRA,
                           SDL_PACKEDLAYOUT_8888, 32, 4)
  SDL_PIXELFORMAT_ARGB2101010 =
    SDL_DEFINE_PIXELFORMAT(SDL_PIXELTYPE_PACKED32, SDL_PACKEDORDER_ARGB,
                           SDL_PACKEDLAYOUT_2101010, 32, 4)


  # if SDL_BYTEORDER == SDL_BIG_ENDIAN
  #   SDL_PIXELFORMAT_RGBA32 = SDL_PIXELFORMAT_RGBA8888
  #   SDL_PIXELFORMAT_ARGB32 = SDL_PIXELFORMAT_ARGB8888
  #   SDL_PIXELFORMAT_BGRA32 = SDL_PIXELFORMAT_BGRA8888
  #   SDL_PIXELFORMAT_ABGR32 = SDL_PIXELFORMAT_ABGR8888
  # else
  #   SDL_PIXELFORMAT_RGBA32 = SDL_PIXELFORMAT_ABGR8888
  #   SDL_PIXELFORMAT_ARGB32 = SDL_PIXELFORMAT_BGRA8888
  #   SDL_PIXELFORMAT_BGRA32 = SDL_PIXELFORMAT_ARGB8888
  #   SDL_PIXELFORMAT_ABGR32 = SDL_PIXELFORMAT_RGBA8888
  # end

  SDL_PIXELFORMAT_YV12 = SDL_DEFINE_PIXELFOURCC('Y', 'V', '1', '2')
  SDL_PIXELFORMAT_IYUV = SDL_DEFINE_PIXELFOURCC('I', 'Y', 'U', 'V')
  SDL_PIXELFORMAT_YUY2 = SDL_DEFINE_PIXELFOURCC('Y', 'U', 'Y', '2')
  SDL_PIXELFORMAT_UYVY = SDL_DEFINE_PIXELFOURCC('U', 'Y', 'V', 'Y')
  SDL_PIXELFORMAT_YVYU = SDL_DEFINE_PIXELFOURCC('Y', 'V', 'Y', 'U')
  SDL_PIXELFORMAT_NV12 = SDL_DEFINE_PIXELFOURCC('N', 'V', '1', '2')
  SDL_PIXELFORMAT_NV21 = SDL_DEFINE_PIXELFOURCC('N', 'V', '2', '1')
  SDL_PIXELFORMAT_EXTERNAL_OES = SDL_DEFINE_PIXELFOURCC('O', 'E', 'S', ' ')

  %w(
    SDL_PIXELFORMAT_UNKNOWN
    SDL_PIXELFORMAT_INDEX1LSB
    SDL_PIXELFORMAT_INDEX1MSB
    SDL_PIXELFORMAT_INDEX4LSB
    SDL_PIXELFORMAT_INDEX4MSB
    SDL_PIXELFORMAT_INDEX8
    SDL_PIXELFORMAT_RGB332
    SDL_PIXELFORMAT_XRGB4444
    SDL_PIXELFORMAT_RGB444
    SDL_PIXELFORMAT_XBGR4444
    SDL_PIXELFORMAT_BGR444
    SDL_PIXELFORMAT_XRGB1555
    SDL_PIXELFORMAT_RGB555
    SDL_PIXELFORMAT_XBGR1555
    SDL_PIXELFORMAT_BGR555
    SDL_PIXELFORMAT_ARGB4444
    SDL_PIXELFORMAT_RGBA4444
    SDL_PIXELFORMAT_ABGR4444
    SDL_PIXELFORMAT_BGRA4444
    SDL_PIXELFORMAT_ARGB1555
    SDL_PIXELFORMAT_RGBA5551
    SDL_PIXELFORMAT_ABGR1555
    SDL_PIXELFORMAT_BGRA5551
    SDL_PIXELFORMAT_RGB565
    SDL_PIXELFORMAT_BGR565
    SDL_PIXELFORMAT_RGB24
    SDL_PIXELFORMAT_BGR24
    SDL_PIXELFORMAT_XRGB8888
    SDL_PIXELFORMAT_RGB888
    SDL_PIXELFORMAT_RGBX8888
    SDL_PIXELFORMAT_XBGR8888
    SDL_PIXELFORMAT_BGR888
    SDL_PIXELFORMAT_BGRX8888
    SDL_PIXELFORMAT_ARGB8888
    SDL_PIXELFORMAT_RGBA8888
    SDL_PIXELFORMAT_ABGR8888
    SDL_PIXELFORMAT_BGRA8888
    SDL_PIXELFORMAT_ARGB2101010
    SDL_PIXELFORMAT_YV12
    SDL_PIXELFORMAT_IYUV
    SDL_PIXELFORMAT_YUY2
    SDL_PIXELFORMAT_UYVY
    SDL_PIXELFORMAT_YVYU
    SDL_PIXELFORMAT_NV12
    SDL_PIXELFORMAT_NV21
    SDL_PIXELFORMAT_EXTERNAL_OES
  ) => list

  list.each do |s|
    puts "#{s} = #{const_get(s)}"
  end
end
